# app/api/routers/generator.py (simplified)
from fastapi import APIRouter, HTTPException
from typing import Optional
import random
from datetime import datetime
from pydantic import BaseModel

router = APIRouter()

class GenerationRequest(BaseModel):
    risk_level: str = "medium"
    max_matches: int = 5
    min_odds: float = 1.5

@router.get("/recommendations")
async def get_recommendations(
    risk_level: Optional[str] = "medium",
    count: int = 5
):
    """Get recommendations."""
    return {
        "recommendations": [
            {
                "match_id": i,
                "prediction": random.choice(["home", "draw", "away"]),
                "odds": round(random.uniform(1.5, 4.0), 2),
                "confidence": round(random.uniform(0.6, 0.9), 2)
            }
            for i in range(count)
        ]
    }

@router.post("/generate")
async def generate_slip(request: GenerationRequest):
    """Generate a slip."""
    return {
        "slip_id": random.randint(1000, 9999),
        "generated_at": datetime.now().isoformat(),
        "selections": [],
        "total_odds": 1.0,
        "message": "Generation successful"
    }